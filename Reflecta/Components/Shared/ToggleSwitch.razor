@* ToggleSwitch.razor - Material You Toggle Switch *@

<label class="flex items-center gap-3 @(Disabled ? "cursor-not-allowed opacity-50" : "cursor-pointer") @AdditionalClasses">
    <div class="toggle-switch @(Disabled ? "pointer-events-none" : "")" data-checked="@Value.ToString().ToLower()" @onclick="Toggle">
        <div class="toggle-switch-thumb"></div>
    </div>
    
    @if (!string.IsNullOrEmpty(Label))
    {
        <span class="text-sm font-medium text-text-primary">@Label</span>
    }
    
    @ChildContent
</label>

@code {
    [Parameter] public bool Value { get; set; } = false;
    [Parameter] public EventCallback<bool> ValueChanged { get; set; }
    [Parameter] public string? Label { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string? AdditionalClasses { get; set; }
    [Parameter] public bool Disabled { get; set; } = false;

    private async Task Toggle()
    {
        if (Disabled) return;
        
        Value = !Value;
        await ValueChanged.InvokeAsync(Value);
    }
}
